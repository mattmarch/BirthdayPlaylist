(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{134:function(e,n,t){"use strict";t.r(n);var a,r=t(3),o=t.n(r),i=t(22),u=t.n(i),c=(t(65),t(19)),l=t(41),s=t.n(l),m=t(52),d=t(31),f=t(53),p=t(20);!function(e){e[e.NO_DATA_YET=0]="NO_DATA_YET",e[e.DATE_TOO_OLD=1]="DATE_TOO_OLD"}(a||(a={}));var b=function(e,n){var t=Object(f.findLast)(n,(function(n){return n.firstWeekEndDate.minus({weeks:1})<=e}));return void 0===t?{date:e,numberOne:null,reason:a.DATE_TOO_OLD}:e>=t.firstWeekEndDate.plus({weeks:t.weeksAtNumberOne-1})?{date:e,numberOne:null,reason:a.NO_DATA_YET}:{date:e,numberOne:t,reason:null}},O=t(54),h=t.n(O),E=(t(68),t(21));function y(){var e=Object(c.a)(["\n  text-align: center;\n"]);return y=function(){return e},e}function w(){var e=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return w=function(){return e},e}function D(){var e=Object(c.a)(["\n  margin: 10px;\n"]);return D=function(){return e},e}function v(){var e=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 20px;\n"]);return v=function(){return e},e}var T=function(e){return o.a.createElement("div",null,e.birthdayNumberOnes.map((function(e){return o.a.createElement(j,{key:e.date.toLocaleString()},o.a.createElement("h4",null,e.date.toLocaleString()),e.numberOne?o.a.createElement("p",null,e.numberOne.title," by ",e.numberOne.artist):e.reason===a.DATE_TOO_OLD?o.a.createElement("p",null,"UK Charts only started on 14/11/1952"):o.a.createElement("p",null,"The latest chart data hasn't been updated yet, try again soon!"))})))},_=E.a.div(v()),g=E.a.button(D()),k=E.a.div(w()),j=E.a.div(y()),A=function(){var e=Object(r.useState)(new Date),n=Object(d.a)(e,2),t=n[0],a=n[1],i=Object(r.useState)(null),u=Object(d.a)(i,2),c=u[0],l=u[1],f=Object(r.useState)(null),O=Object(d.a)(f,2),E=O[0],y=O[1];return Object(r.useEffect)((function(){(function(){var e=Object(m.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.jsonbin.io/b/5ecfe1657741ef56a5638007/latest").then((function(e){return e.json()})).then((function(e){return e.map((function(e){return{firstWeekEndDate:p.DateTime.fromISO(e.first_week_ending_date),title:e.title,artist:e.artist,weeksAtNumberOne:Number(e.weeks_at_number_one)}}))}));case 2:n=e.sent,l(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),o.a.createElement(_,null,o.a.createElement("h1",null,"Birthday Playlist Generator"),o.a.createElement("p",null,"Generate a Spotify playlist of UK number ones on your Birthday since you were born. This site is a work in progress."),o.a.createElement("h3",null,"Enter your birthday below:"),o.a.createElement(h.a,{selected:t,onChange:function(e){return a(e||new Date)},dateFormat:"dd/MM/yyyy",minDate:new Date(1900,0,1),maxDate:new Date,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select"}),o.a.createElement(g,{disabled:null==c,onClick:function(){return c&&y(function(e,n){return p.Interval.fromDateTimes(p.DateTime.fromJSDate(e),p.DateTime.local()).splitBy({years:1}).map((function(e){return b(e.start,n)}))}(t,c))}},"Find me a playlist"),E&&o.a.createElement(k,null,o.a.createElement("p",null,"Spotify integration coming soon!"),o.a.createElement(T,{birthdayNumberOnes:E})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},60:function(e,n,t){e.exports=t(134)},65:function(e,n,t){}},[[60,1,2]]]);
//# sourceMappingURL=main.cb483927.chunk.js.map